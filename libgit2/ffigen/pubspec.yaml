name: libgit2_ffigen

environment:
  sdk: '>=2.12.0 <3.0.0'

dev_dependencies:
  ffigen:

ffigen:
  name: NativeLibrary
  description: 'Bindings for libgit2'
  output: '../lib/src/generated_bindings.dart'
  llvm-path:
   - '/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr'
  compiler-opts:
   - '-I../ios/libgit2-1.1.0/include'
   - '-Wno-nullability-completeness'
  headers:
    entry-points:
      - '../ios/libgit2-1.1.0/include/git2.h'
  functions:
    include:
     - git_libgit2_features
     - git_libgit2_init
     - git_libgit2_shutdown
     - git_error_last
     - git_error_set_str
  structs:
    dependency-only: opaque
    include:
     - git_error
  enums:
    exclude:
     - .*
  macros:
    exclude:
     - .*
  globals:
    exclude:
    - .*
